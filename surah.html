<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>سورة</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body style="font-family:'Amiri',serif; background:#f8f9fa;">
  <header class="bg-success text-white text-center p-3">
    <h1>القرآن الكريم بصوت الشيخ بدر التركي</h1>
  </header>

  <main class="container my-4">
    <div class="card shadow p-4" id="surah-card">
      <h2 class="text-center" id="surah-title">تحميل...</h2>
      <ul class="list-group mb-3" id="surah-details"></ul>
      <audio controls preload="none" class="w-100 mb-3" id="surah-audio"></audio>
      <a href="index.html" class="btn btn-outline-success">⬅ العودة إلى القائمة</a>
    </div>
  </main>

  <footer class="text-center text-muted p-3">
    &copy; <span id="year"></span> القرآن الكريم بصوت الشيخ بدر التركي
  </footer>

  <script>
    const params = new URLSearchParams(window.location.search);
    const surahId = parseInt(params.get('id'));

    fetch('data.json')
      .then(res => res.json())
      .then(data => {
        const surah = data.surahs.find(s => s.id === surahId);
        if (!surah) {
          document.getElementById('surah-title').textContent = 'السورة غير موجودة';
          return;
        }

        document.title = `سورة ${surah.name}`;
        document.getElementById('surah-title').textContent = `سورة ${surah.name}`;

        const details = document.getElementById('surah-details');
        details.innerHTML = `
          <li class="list-group-item">الترتيب: ${surah.id}</li>
          <li class="list-group-item">عدد الآيات: ${surah.ayahs}</li>
          <li class="list-group-item">نوعها: ${surah.type}</li>
          <li class="list-group-item">أسماء أخرى: ${surah.other_names.join(", ")}</li>
          <li class="list-group-item">الموضوعات: ${surah.topics.join(", ")}</li>
        `;

        const audio = document.getElementById('surah-audio');
        audio.src = surah.audio;
      });

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
